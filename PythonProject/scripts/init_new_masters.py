#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –Ω–æ–≤—ã–º–∏ –º–∞—Å—Ç–µ—Ä–∞–º–∏
"""

import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø—É—Ç—å
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from core.database import Database

def init_new_masters():
    """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –Ω–æ–≤—ã–º–∏ –º–∞—Å—Ç–µ—Ä–∞–º–∏"""
    
    # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É data –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
    os.makedirs("data", exist_ok=True)
    
    db = Database()
    
    print("–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö...")
    
    # –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
    import sqlite3
    with sqlite3.connect(db.db_path) as conn:
        cursor = conn.cursor()
        cursor.execute("DELETE FROM appointments")
        cursor.execute("DELETE FROM services") 
        cursor.execute("DELETE FROM schedule")
        cursor.execute("DELETE FROM masters")
        cursor.execute("DELETE FROM users WHERE is_master = TRUE")
        conn.commit()
    
    print("–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∞—Å—Ç–µ—Ä–æ–≤...")
    
    # –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ú—É—Ä - –ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è
    master1_id = db.add_master(
        user_id=111111111,  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π user_id
        name="–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ú—É—Ä",
        specialization="–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è",
        social_media="https://t.me/Leader_rg",
        address="–°—Ç—É–¥–∏—è –∞—ç—Ä–æ–≥—Ä–∞—Ñ–∏–∏",
        password="alexandra123"
    )
    
    # –¢–∞—Ç—å—è–Ω–∞ - –ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è
    master2_id = db.add_master(
        user_id=222222222,  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π user_id
        name="–¢–∞—Ç—å—è–Ω–∞",
        specialization="–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è",
        social_media="https://t.me/tatyanaavoyan",
        address="–°—Ç—É–¥–∏—è –∞—ç—Ä–æ–≥—Ä–∞—Ñ–∏–∏",
        password="tatyana123"
    )
    
    # –ê–Ω–∞—Å—Ç–∞—Å–∏—è - –ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è
    master3_id = db.add_master(
        user_id=333333333,  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π user_id
        name="–ê–Ω–∞—Å—Ç–∞—Å–∏—è",
        specialization="–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è",
        social_media="https://www.instagram.com/obmotka_aero_rg",
        address="–°—Ç—É–¥–∏—è –∞—ç—Ä–æ–≥—Ä–∞—Ñ–∏–∏",
        password="anastasia123"
    )
    
    # –ú–∞—Å—Ç–µ—Ä –ø–æ —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∞–º
    master4_id = db.add_master(
        user_id=444444444,  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π user_id
        name="–ú–∞—Å—Ç–µ—Ä –ø–æ —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∞–º",
        specialization="–¢–∞—Ç—É–∏—Ä–æ–≤–∫–∏",
        social_media="–°—Ç—É–¥–∏—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∏ ¬´–ö–ª–∞—Å—Å–∏–∫¬ª",
        address="–°—Ç—É–¥–∏—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∏ ¬´–ö–ª–∞—Å—Å–∏–∫¬ª",
        password="tattoo123"
    )
    
    print("–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥...")
    
    # –£—Å–ª—É–≥–∏ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—ã –ú—É—Ä - –ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –±—É–ª–∞–≤
    db.add_service(master1_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –±—É–ª–∞–≤ - 2 —Ü–≤–µ—Ç–∞ –ë–ï–ó —Ä–∏—Å—É–Ω–∫–æ–≤", 2500, 120)
    db.add_service(master1_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –±—É–ª–∞–≤ - 3+ —Ü–≤–µ—Ç–∞ –ë–ï–ó —Ä–∏—Å—É–Ω–∫–æ–≤", 3000, 150)
    db.add_service(master1_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –±—É–ª–∞–≤ - 2+ —Ü–≤–µ—Ç–∞ + –∞–ø–ø–ª–∏–∫–∞—Ü–∏–∏", 3500, 180)
    db.add_service(master1_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –±—É–ª–∞–≤ - 2+ —Ü–≤–µ—Ç–∞ + —Ä–æ—Å–ø–∏—Å—å –∫—Ä–∞—Å–∫–æ–π", 4000, 200)
    
    # –£—Å–ª—É–≥–∏ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—ã –ú—É—Ä - –ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä—É—á–∞
    db.add_service(master1_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä—É—á–∞ - 2 —Ü–≤–µ—Ç–∞ –ë–ï–ó —Ä–∏—Å—É–Ω–∫–æ–≤", 3000, 120)
    db.add_service(master1_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä—É—á–∞ - 2+ —Ü–≤–µ—Ç–∞ + –∞–ø–ø–ª–∏–∫–∞—Ü–∏–∏", 3500, 150)
    db.add_service(master1_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä—É—á–∞ - 2+ —Ü–≤–µ—Ç–∞ + –∞–ø–ø–ª–∏–∫–∞—Ü–∏—è + —Ä–æ—Å–ø–∏—Å—å", 4000, 180)
    
    # –ú–∞–∫–µ—Ç –¥–ª—è –∞—ç—Ä–æ–≥—Ä–∞—Ñ–∏–∏
    db.add_service(master1_id, "–ú–∞–∫–µ—Ç –¥–ª—è –∞—ç—Ä–æ–≥—Ä–∞—Ñ–∏–∏ –æ–±—Ä—É—á–∞ –∏–ª–∏ –±—É–ª–∞–≤", 500, 30)
    
    # –£—Å–ª—É–≥–∏ –¢–∞—Ç—å—è–Ω—ã
    db.add_service(master2_id, "–õ—é–±–∞—è –∞—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è", 4000, 180)
    
    # –£—Å–ª—É–≥–∏ –ê–Ω–∞—Å—Ç–∞—Å–∏–∏
    db.add_service(master3_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä—É—á–∞/–±—É–ª–∞–≤ –≥—Ä–∞–¥–∏–µ–Ω—Ç", 3000, 120)
    db.add_service(master3_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä—É—á–∞/–±—É–ª–∞–≤ –≥—Ä–∞–¥–∏–µ–Ω—Ç + –ª–∏–Ω–∏–∏ –æ–±–º–æ—Ç–∫–æ–π", 3500, 150)
    db.add_service(master3_id, "–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä—É—á–∞/–±—É–ª–∞–≤ –≥—Ä–∞–¥–∏–µ–Ω—Ç + —Å–ª–æ–∂–Ω—ã–µ —É–∑–æ—Ä—ã", 4500, 180)
    db.add_service(master3_id, "–°–ª–æ–∂–Ω–∞—è –∞—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä—É—á–∞/–±—É–ª–∞–≤", 5000, 240)
    
    # –£—Å–ª—É–≥–∏ –º–∞—Å—Ç–µ—Ä–∞ –ø–æ —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∞–º
    db.add_service(master4_id, "1 –º–∏–Ω–∏–∞—Ç—é—Ä–Ω–∞—è —Ç–∞—Ç—É", 5000, 60)
    db.add_service(master4_id, "3 –º–∏–Ω–∏ —Ç–∞—Ç—É –ø–æ –∞–∫—Ü–∏–∏", 10000, 180)
    db.add_service(master4_id, "–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∞", 5000, 120)
    db.add_service(master4_id, "–ü–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å", 25000, 480)
    db.add_service(master4_id, "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —ç—Å–∫–∏–∑–∞", 1000, 60)
    db.add_service(master4_id, "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –º–∞—Å—Ç–µ—Ä–∞", 0, 30)
    
    print("–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...")
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏
    from datetime import datetime, timedelta
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 14 –¥–Ω–µ–π (—á—Ç–æ–±—ã –ø–æ–∫—Ä—ã—Ç—å —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏)
    for i in range(1, 15):  # –ù–∞ 2 –Ω–µ–¥–µ–ª–∏ –≤–ø–µ—Ä–µ–¥
        date = (datetime.now() + timedelta(days=i)).strftime("%Y-%m-%d")
        
        # –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –º–∞—Å—Ç–µ—Ä–æ–≤
        db.add_schedule(master1_id, date, "09:00", "18:00")
        db.add_schedule(master2_id, date, "10:00", "19:00")
        db.add_schedule(master3_id, date, "11:00", "20:00")
        db.add_schedule(master4_id, date, "12:00", "21:00")
    
    print("‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –Ω–æ–≤—ã–º–∏ –º–∞—Å—Ç–µ—Ä–∞–º–∏!")
    print("\n–ù–æ–≤—ã–µ –º–∞—Å—Ç–µ—Ä–∞:")
    print("1. –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ú—É—Ä (–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è) - https://t.me/Leader_rg - –ü–∞—Ä–æ–ª—å: alexandra123")
    print("2. –¢–∞—Ç—å—è–Ω–∞ (–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è) - https://t.me/tatyanaavoyan - –ü–∞—Ä–æ–ª—å: tatyana123")
    print("3. –ê–Ω–∞—Å—Ç–∞—Å–∏—è (–ê—ç—Ä–æ–≥—Ä–∞—Ñ–∏—è) - https://www.instagram.com/obmotka_aero_rg - –ü–∞—Ä–æ–ª—å: anastasia123")
    print("4. –ú–∞—Å—Ç–µ—Ä –ø–æ —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∞–º (–¢–∞—Ç—É–∏—Ä–æ–≤–∫–∏) - –°—Ç—É–¥–∏—è ¬´–ö–ª–∞—Å—Å–∏–∫¬ª - –ü–∞—Ä–æ–ª—å: tattoo123")
    print("\n‚ö†Ô∏è  –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å user_id –º–∞—Å—Ç–µ—Ä–æ–≤ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ Telegram ID!")
    print(f"üìÅ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞: {db.db_path}")

if __name__ == "__main__":
    init_new_masters()
